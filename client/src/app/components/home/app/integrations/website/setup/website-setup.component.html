<div *ngIf="app" class="container">
  <div class="row mt-4">
    <div class="col-md-3">
      <img [src]="channel?.picture_url" class="card-img-top w-100"/>
    </div>
    <div class="col-md-9">
      <h1>{{ channel?.name }}</h1>
      <hr/>
      <div *ngIf="!hasIntegration()">
        <div class="row mt-3">
          <div class="col-md-12">
            <h5 class="mb-3">1ยบ Step - Download and Install</h5>
            <p class="mb-0">Download the Chatz javascript library for Websites <a href="#">here</a>.</p>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <h5 class="mt-4 mb-3">2ยบ Step - Import the library</h5>
            <p>Import the library by including the following code at the end of <code>body</code> element.</p>
            <div class="highlight">
              <code>&lt;script type="text/javascript" src="/path/to/chatz.js"&gt;&lt;/script&gt;</code>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <h5 class="mt-4 mb-3">3ยบ Step - Initialize the library</h5>
            <p>Initialize the library by including the following code at the end of <code>body</code> element.</p>
            <div class="highlight">
              <pre><code>&lt;script&gt;
  ChatzIO.init({{ '{' }}
    app_token: '{{ app.token }}'
  {{ '}' }});
&lt;/script&gt;</code></pre>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <h5 class="mt-4 mb-3">4ยบ Step - Test the integration</h5>
            <p>Run your Website after complete all these steps and let us know if your integration is working fine by clicking the button below.</p>
            <button (click)="testIntegration()" type="button" class="btn btn-primary mt-2">Test Integration</button>
          </div>
        </div>
      </div>
      <div *ngIf="hasIntegration()">
        <form novalidate>
          <div class="row mt-3">
            <div class="col-md-12">
              <h4>App token</h4>
              <div class="input-group">
                <p class="form-control">{{ app?.token }}</p>
                <span class="input-group-btn">
                  <button (click)="copyAppToken()" type="button" class="btn btn-secondary">Copy</button>
                </span>
              </div>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-12">
              <h4>Primary color</h4>
              <div class="input-group">
                <span [ngStyle]="{'background-color': '#' + configuration.primary_color}" class="input-group-addon color-addon"></span>
                <input [(ngModel)]="configuration.primary_color" type="text" id="primary-color" name="primary-color" class="form-control" minlength="3" maxlength="6">
              </div>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-md-12">
              <h4>Conversation color</h4>
              <div class="input-group">
                <span [ngStyle]="{'background-color': '#' + configuration.conversation_color}" class="input-group-addon color-addon"></span>
                <input [(ngModel)]="configuration.conversation_color" type="text" id="conversation-color" name="conversation-color" class="form-control" minlength="3" maxlength="6">
              </div>
            </div>
          </div>
          <div class="row mt-2">
            <div class="col-md-12">
              <hr/>
              <button (click)="updateConfiguration()" type="button" class="btn btn-primary float-left">Update configuration</button>
              <button (click)="removeIntegration()" type="button" class="btn btn-danger float-right">Remove integration</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>